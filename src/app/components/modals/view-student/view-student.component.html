<app-modal-header title="View Student" (dismiss)="dismissModal()"></app-modal-header>

<ion-content class="ion-text-center">
  <br>
  <app-view-profile-pic (modalClosed)="getStudents()" updateType="student" [imgSrc]="DP" [canView]="false" [showEditBtn]="false" [userId]="studentId"></app-view-profile-pic>
  <br>
  <div class="divider"></div>
  <br>

  <div *ngIf="isLoading" class="ion-padding ion-text-center">
    <ion-spinner name="crescent"></ion-spinner>
  </div>

  <ion-text *ngIf="showError"><h5 class="ion-padding ion-text-center">{{ errMessage }}</h5></ion-text>


  <div *ngIf="!isLoading && !showError">
    <ion-item *ngFor="let detail of details">
      <ion-icon [md]="detail.icon + '-sharp'" [ios]="detail.icon + '-outline'"></ion-icon>
      <ion-grid>
        <ion-row>
          <ion-col size="12">
            <ion-note class="label">{{ detail.label }}</ion-note>
          </ion-col>
            <ion-col size="12" *ngIf="!detail.multipleValue">
              <ion-label>{{ detail.value }}</ion-label>
            </ion-col>
          </ion-row>
          <ion-row *ngIf="detail.multipleValue">
            <ion-col size="12" *ngFor="let splitValue of splitArr(detail.value)">
              <ion-label>{{ splitValue }}</ion-label>
            </ion-col>
          </ion-row>
      </ion-grid>
    </ion-item>

    <br>
    <div class="ion-padding">
      <ion-text class="ion-text-left"><h6>Courses</h6></ion-text>
    </div>
    <table mat-table [dataSource]="courseDataSource" class="mat-elevation-z8">
    
      <ng-container matColumnDef="position">
        <th mat-header-cell *matHeaderCellDef> No. </th>
        <td mat-cell *matCellDef="let element"> {{ element.position }} </td>
      </ng-container>
      <ng-container matColumnDef="course">
        <th mat-header-cell *matHeaderCellDef> Course </th>
        <td mat-cell *matCellDef="let element"> {{ element.course }} </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayColumns;"></tr>
    </table>
  </div>
</ion-content>